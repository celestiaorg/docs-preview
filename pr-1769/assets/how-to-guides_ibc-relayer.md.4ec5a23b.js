import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.6361bad1.js";const h=JSON.parse('{"title":"IBC relaying guide","description":"Learn how to establish IBC connections and relay packets.","frontmatter":{"description":"Learn how to establish IBC connections and relay packets.","next":{"text":"Metrics","link":"/how-to-guides/celestia-node-metrics"},"head":[["meta",{"name":"og:title","content":"IBC relaying guide | Celestia Docs"},{"name":"og:description","content":false}]]},"headers":[],"relativePath":"how-to-guides/ibc-relayer.md","filePath":"how-to-guides/ibc-relayer.md","lastUpdated":1729799955000}'),p={name:"how-to-guides/ibc-relayer.md"},o=l(`<h1 id="ibc-relaying-guide" tabindex="-1">IBC relaying guide <a class="header-anchor" href="#ibc-relaying-guide" aria-label="Permalink to &quot;IBC relaying guide&quot;">​</a></h1><p>Celestia uses <a href="https://ibcprotocol.dev/" target="_blank" rel="noreferrer">IBC</a> (Inter-Blockchain Communication protocol) to enable cross-chain transfer of tokens. To support this capability it relies on relayers, processes that can be run by anyone which constantly scan for outbound packets on one chain and submits these packets alongside corresponding proofs on the destination chain. This section describes how one can setup a relayer and create new connections between chains. There are two standard implementations:</p><ul><li><a href="https://hermes.informal.systems/" target="_blank" rel="noreferrer">Hermes</a> built in Rust</li><li><a href="https://pkg.go.dev/github.com/cosmos/relayer" target="_blank" rel="noreferrer">Go Relayer</a> built in Go</li></ul><p>The following guide explains how to establish IBC connections and relay packets between <a href="./../how-to-guides/mocha-testnet">Mocha testnet</a> and <a href="https://hub.cosmos.network/main/hub-tutorials/join-testnet.html" target="_blank" rel="noreferrer">Cosmos hub testnet</a> networks by using the Hermes relayer.</p><p>Check the <a href="https://github.com/celestiaorg/celestia-app/blob/2b8cc9e23826ccb658b7dd5aa6cd51a0921a0c29/go.mod#L35" target="_blank" rel="noreferrer">latest celestia-app release&#39;s <code>go.mod</code></a> for the version of ibc-go that is currently used.</p><h2 id="hermes" tabindex="-1">Hermes <a class="header-anchor" href="#hermes" aria-label="Permalink to &quot;Hermes&quot;">​</a></h2><p><a href="https://github.com/informalsystems/hermes" target="_blank" rel="noreferrer">Hermes</a> is an open-source Rust implementation of an IBC relayer released as part of the <code>ibc-relayer-cli</code> crate. It includes a CLI for relaying packets between Cosmos SDK chains, as well as Prometheus metrics and a REST API.</p><p>Please follow the steps at <a href="https://hermes.informal.systems/quick-start/" target="_blank" rel="noreferrer">Hermes Quick Start</a> to install Hermes. Before proceeding, verify that Hermes is installed correctly by running <code>hermes version</code>.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Hermes currently doesn&#39;t support configuring the Tendermint <code>CompatMode</code> in chain config (see <a href="https://github.com/informalsystems/hermes/issues/3623" target="_blank" rel="noreferrer">hermes#3623</a>). Until that issue is resolved, please use Hermes <a href="https://github.com/informalsystems/hermes/releases/tag/v1.7.0" target="_blank" rel="noreferrer">v1.7.0</a>+ because it falls back to Tendermint <code>CompatMode</code> v0.34 (see <a href="https://github.com/informalsystems/hermes/pull/3663" target="_blank" rel="noreferrer">hermes#3663</a>) which is compatible with Celestia.</p></div><h3 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h3><p>After you have successfully installed Hermes and created the necessary folders, you now have to edit <code>config.toml</code> and add the appropriate configurations for the chains you want to relay between.</p><p>For this tutorial, we will be using the following chains:</p><ul><li>Celestia&#39;s <code>mocha-4</code> testnet</li><li>Cosmos Hub&#39;s <code>theta-testnet-001</code> testnet</li></ul><p>Edit the Hermes configuration.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">vim</span><span style="color:#E1E4E8;"> $HOME</span><span style="color:#9ECBFF;">/.hermes/config.toml</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">vim</span><span style="color:#24292E;"> $HOME</span><span style="color:#032F62;">/.hermes/config.toml</span></span></code></pre></div><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">global</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">log_level = </span><span style="color:#9ECBFF;">&quot;info&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">mode</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">clients</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled = </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">refresh = </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">misbehaviour = </span><span style="color:#79B8FF;">true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">mode</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">connections</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled = </span><span style="color:#79B8FF;">false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">mode</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">channels</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled = </span><span style="color:#79B8FF;">false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">mode</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">packets</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled = </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">clear_interval = </span><span style="color:#79B8FF;">100</span></span>
<span class="line"><span style="color:#E1E4E8;">clear_on_start = </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">tx_confirmation = </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">auto_register_counterparty_payee = </span><span style="color:#79B8FF;">false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">rest</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled = </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">host = </span><span style="color:#9ECBFF;">&quot;127.0.0.1&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">port = </span><span style="color:#79B8FF;">3000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">telemetry</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">enabled = </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">host = </span><span style="color:#9ECBFF;">&quot;127.0.0.1&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">port = </span><span style="color:#79B8FF;">3001</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">telemetry</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">buckets</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">latency_submitted</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">start = </span><span style="color:#79B8FF;">500</span></span>
<span class="line"><span style="color:#E1E4E8;">end = </span><span style="color:#79B8FF;">20000</span></span>
<span class="line"><span style="color:#E1E4E8;">buckets = </span><span style="color:#79B8FF;">10</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">telemetry</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">buckets</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">latency_confirmed</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">start = </span><span style="color:#79B8FF;">1000</span></span>
<span class="line"><span style="color:#E1E4E8;">end = </span><span style="color:#79B8FF;">30000</span></span>
<span class="line"><span style="color:#E1E4E8;">buckets = </span><span style="color:#79B8FF;">10</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[[</span><span style="color:#B392F0;">chains</span><span style="color:#E1E4E8;">]]</span></span>
<span class="line"><span style="color:#E1E4E8;">id = </span><span style="color:#9ECBFF;">&quot;theta-testnet-001&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">type = </span><span style="color:#9ECBFF;">&quot;CosmosSdk&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">rpc_addr = </span><span style="color:#9ECBFF;">&quot;https://rpc.sentry-01.theta-testnet.polypore.xyz&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">grpc_addr = </span><span style="color:#9ECBFF;">&quot;https://grpc.sentry-01.theta-testnet.polypore.xyz&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">rpc_timeout = </span><span style="color:#9ECBFF;">&quot;10s&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">trusted_node = </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">account_prefix = </span><span style="color:#9ECBFF;">&quot;cosmos&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">key_name = </span><span style="color:#9ECBFF;">&quot;key-cosmos&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">key_store_type = </span><span style="color:#9ECBFF;">&quot;Test&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">store_prefix = </span><span style="color:#9ECBFF;">&quot;ibc&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">default_gas = </span><span style="color:#79B8FF;">100000</span></span>
<span class="line"><span style="color:#E1E4E8;">max_gas = </span><span style="color:#79B8FF;">400000</span></span>
<span class="line"><span style="color:#E1E4E8;">gas_multiplier = </span><span style="color:#79B8FF;">1.5</span></span>
<span class="line"><span style="color:#E1E4E8;">max_msg_num = </span><span style="color:#79B8FF;">30</span></span>
<span class="line"><span style="color:#E1E4E8;">max_tx_size = </span><span style="color:#79B8FF;">180000</span></span>
<span class="line"><span style="color:#E1E4E8;">max_grpc_decoding_size = </span><span style="color:#79B8FF;">33554432</span></span>
<span class="line"><span style="color:#E1E4E8;">clock_drift = </span><span style="color:#9ECBFF;">&quot;5s&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">max_block_time = </span><span style="color:#9ECBFF;">&quot;30s&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">ccv_consumer_chain = </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">memo_prefix = </span><span style="color:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">sequential_batch_tx = </span><span style="color:#79B8FF;">false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">chains</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">event_source</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">mode = </span><span style="color:#9ECBFF;">&quot;push&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">url = </span><span style="color:#9ECBFF;">&quot;ws://rpc.sentry-01.theta-testnet.polypore.xyz:26657/websocket&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">batch_delay = </span><span style="color:#9ECBFF;">&quot;500ms&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">chains</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">trust_threshold</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">numerator = </span><span style="color:#9ECBFF;">&quot;1&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">denominator = </span><span style="color:#9ECBFF;">&quot;3&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">chains</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">gas_price</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">price = </span><span style="color:#79B8FF;">0.025</span></span>
<span class="line"><span style="color:#E1E4E8;">denom = </span><span style="color:#9ECBFF;">&quot;uatom&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">chains</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">packet_filter</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">policy = </span><span style="color:#9ECBFF;">&quot;allow&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">list = [[</span><span style="color:#9ECBFF;">&quot;transfer&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;channel-3108&quot;</span><span style="color:#E1E4E8;">]]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">chains</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">packet_filter</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">min_fees</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">chains</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">address_type</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">derivation = </span><span style="color:#9ECBFF;">&quot;cosmos&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[[</span><span style="color:#B392F0;">chains</span><span style="color:#E1E4E8;">]]</span></span>
<span class="line"><span style="color:#E1E4E8;">id = </span><span style="color:#9ECBFF;">&quot;mocha-4&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">type = </span><span style="color:#9ECBFF;">&quot;CosmosSdk&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">rpc_addr = </span><span style="color:#9ECBFF;">&quot;https://rpc-celestia-mocha.architectnodes.com&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">grpc_addr = </span><span style="color:#9ECBFF;">&quot;https://grpc.celestia-mocha.com:443&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">rpc_timeout = </span><span style="color:#9ECBFF;">&quot;10s&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">trusted_node = </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">account_prefix = </span><span style="color:#9ECBFF;">&quot;celestia&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">key_name = </span><span style="color:#9ECBFF;">&quot;celestia-key&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">key_store_type = </span><span style="color:#9ECBFF;">&quot;Test&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">store_prefix = </span><span style="color:#9ECBFF;">&quot;ibc&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">default_gas = </span><span style="color:#79B8FF;">100000</span></span>
<span class="line"><span style="color:#E1E4E8;">max_gas = </span><span style="color:#79B8FF;">400000</span></span>
<span class="line"><span style="color:#E1E4E8;">gas_multiplier = </span><span style="color:#79B8FF;">1.5</span></span>
<span class="line"><span style="color:#E1E4E8;">max_msg_num = </span><span style="color:#79B8FF;">30</span></span>
<span class="line"><span style="color:#E1E4E8;">max_tx_size = </span><span style="color:#79B8FF;">180000</span></span>
<span class="line"><span style="color:#E1E4E8;">max_grpc_decoding_size = </span><span style="color:#79B8FF;">33554432</span></span>
<span class="line"><span style="color:#E1E4E8;">clock_drift = </span><span style="color:#9ECBFF;">&quot;5s&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">max_block_time = </span><span style="color:#9ECBFF;">&quot;30s&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">ccv_consumer_chain = </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">memo_prefix = </span><span style="color:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">sequential_batch_tx = </span><span style="color:#79B8FF;">false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">chains</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">event_source</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">mode = </span><span style="color:#9ECBFF;">&quot;push&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">url = </span><span style="color:#9ECBFF;">&quot;ws://rpc-mocha.pops.one:26657/websocket&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">batch_delay = </span><span style="color:#9ECBFF;">&quot;500ms&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">chains</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">trust_threshold</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">numerator = </span><span style="color:#9ECBFF;">&quot;1&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">denominator = </span><span style="color:#9ECBFF;">&quot;3&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">chains</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">gas_price</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">price = </span><span style="color:#79B8FF;">0.1</span></span>
<span class="line"><span style="color:#E1E4E8;">denom = </span><span style="color:#9ECBFF;">&quot;utia&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">chains</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">packet_filter</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">policy = </span><span style="color:#9ECBFF;">&quot;allow&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">list = [[</span><span style="color:#9ECBFF;">&quot;transfer&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;channel-0&quot;</span><span style="color:#E1E4E8;">]]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">chains</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">packet_filter</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">min_fees</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">chains</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">address_type</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">derivation = </span><span style="color:#9ECBFF;">&quot;cosmos&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">global</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">log_level = </span><span style="color:#032F62;">&quot;info&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">mode</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">clients</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">enabled = </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">refresh = </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">misbehaviour = </span><span style="color:#005CC5;">true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">mode</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">connections</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">enabled = </span><span style="color:#005CC5;">false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">mode</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">channels</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">enabled = </span><span style="color:#005CC5;">false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">mode</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">packets</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">enabled = </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">clear_interval = </span><span style="color:#005CC5;">100</span></span>
<span class="line"><span style="color:#24292E;">clear_on_start = </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">tx_confirmation = </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">auto_register_counterparty_payee = </span><span style="color:#005CC5;">false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">rest</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">enabled = </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">host = </span><span style="color:#032F62;">&quot;127.0.0.1&quot;</span></span>
<span class="line"><span style="color:#24292E;">port = </span><span style="color:#005CC5;">3000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">telemetry</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">enabled = </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">host = </span><span style="color:#032F62;">&quot;127.0.0.1&quot;</span></span>
<span class="line"><span style="color:#24292E;">port = </span><span style="color:#005CC5;">3001</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">telemetry</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">buckets</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">latency_submitted</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">start = </span><span style="color:#005CC5;">500</span></span>
<span class="line"><span style="color:#24292E;">end = </span><span style="color:#005CC5;">20000</span></span>
<span class="line"><span style="color:#24292E;">buckets = </span><span style="color:#005CC5;">10</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">telemetry</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">buckets</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">latency_confirmed</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">start = </span><span style="color:#005CC5;">1000</span></span>
<span class="line"><span style="color:#24292E;">end = </span><span style="color:#005CC5;">30000</span></span>
<span class="line"><span style="color:#24292E;">buckets = </span><span style="color:#005CC5;">10</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[[</span><span style="color:#6F42C1;">chains</span><span style="color:#24292E;">]]</span></span>
<span class="line"><span style="color:#24292E;">id = </span><span style="color:#032F62;">&quot;theta-testnet-001&quot;</span></span>
<span class="line"><span style="color:#24292E;">type = </span><span style="color:#032F62;">&quot;CosmosSdk&quot;</span></span>
<span class="line"><span style="color:#24292E;">rpc_addr = </span><span style="color:#032F62;">&quot;https://rpc.sentry-01.theta-testnet.polypore.xyz&quot;</span></span>
<span class="line"><span style="color:#24292E;">grpc_addr = </span><span style="color:#032F62;">&quot;https://grpc.sentry-01.theta-testnet.polypore.xyz&quot;</span></span>
<span class="line"><span style="color:#24292E;">rpc_timeout = </span><span style="color:#032F62;">&quot;10s&quot;</span></span>
<span class="line"><span style="color:#24292E;">trusted_node = </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">account_prefix = </span><span style="color:#032F62;">&quot;cosmos&quot;</span></span>
<span class="line"><span style="color:#24292E;">key_name = </span><span style="color:#032F62;">&quot;key-cosmos&quot;</span></span>
<span class="line"><span style="color:#24292E;">key_store_type = </span><span style="color:#032F62;">&quot;Test&quot;</span></span>
<span class="line"><span style="color:#24292E;">store_prefix = </span><span style="color:#032F62;">&quot;ibc&quot;</span></span>
<span class="line"><span style="color:#24292E;">default_gas = </span><span style="color:#005CC5;">100000</span></span>
<span class="line"><span style="color:#24292E;">max_gas = </span><span style="color:#005CC5;">400000</span></span>
<span class="line"><span style="color:#24292E;">gas_multiplier = </span><span style="color:#005CC5;">1.5</span></span>
<span class="line"><span style="color:#24292E;">max_msg_num = </span><span style="color:#005CC5;">30</span></span>
<span class="line"><span style="color:#24292E;">max_tx_size = </span><span style="color:#005CC5;">180000</span></span>
<span class="line"><span style="color:#24292E;">max_grpc_decoding_size = </span><span style="color:#005CC5;">33554432</span></span>
<span class="line"><span style="color:#24292E;">clock_drift = </span><span style="color:#032F62;">&quot;5s&quot;</span></span>
<span class="line"><span style="color:#24292E;">max_block_time = </span><span style="color:#032F62;">&quot;30s&quot;</span></span>
<span class="line"><span style="color:#24292E;">ccv_consumer_chain = </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">memo_prefix = </span><span style="color:#032F62;">&quot;&quot;</span></span>
<span class="line"><span style="color:#24292E;">sequential_batch_tx = </span><span style="color:#005CC5;">false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">chains</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">event_source</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">mode = </span><span style="color:#032F62;">&quot;push&quot;</span></span>
<span class="line"><span style="color:#24292E;">url = </span><span style="color:#032F62;">&quot;ws://rpc.sentry-01.theta-testnet.polypore.xyz:26657/websocket&quot;</span></span>
<span class="line"><span style="color:#24292E;">batch_delay = </span><span style="color:#032F62;">&quot;500ms&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">chains</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">trust_threshold</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">numerator = </span><span style="color:#032F62;">&quot;1&quot;</span></span>
<span class="line"><span style="color:#24292E;">denominator = </span><span style="color:#032F62;">&quot;3&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">chains</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">gas_price</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">price = </span><span style="color:#005CC5;">0.025</span></span>
<span class="line"><span style="color:#24292E;">denom = </span><span style="color:#032F62;">&quot;uatom&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">chains</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">packet_filter</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">policy = </span><span style="color:#032F62;">&quot;allow&quot;</span></span>
<span class="line"><span style="color:#24292E;">list = [[</span><span style="color:#032F62;">&quot;transfer&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;channel-3108&quot;</span><span style="color:#24292E;">]]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">chains</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">packet_filter</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">min_fees</span><span style="color:#24292E;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">chains</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">address_type</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">derivation = </span><span style="color:#032F62;">&quot;cosmos&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[[</span><span style="color:#6F42C1;">chains</span><span style="color:#24292E;">]]</span></span>
<span class="line"><span style="color:#24292E;">id = </span><span style="color:#032F62;">&quot;mocha-4&quot;</span></span>
<span class="line"><span style="color:#24292E;">type = </span><span style="color:#032F62;">&quot;CosmosSdk&quot;</span></span>
<span class="line"><span style="color:#24292E;">rpc_addr = </span><span style="color:#032F62;">&quot;https://rpc-celestia-mocha.architectnodes.com&quot;</span></span>
<span class="line"><span style="color:#24292E;">grpc_addr = </span><span style="color:#032F62;">&quot;https://grpc.celestia-mocha.com:443&quot;</span></span>
<span class="line"><span style="color:#24292E;">rpc_timeout = </span><span style="color:#032F62;">&quot;10s&quot;</span></span>
<span class="line"><span style="color:#24292E;">trusted_node = </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">account_prefix = </span><span style="color:#032F62;">&quot;celestia&quot;</span></span>
<span class="line"><span style="color:#24292E;">key_name = </span><span style="color:#032F62;">&quot;celestia-key&quot;</span></span>
<span class="line"><span style="color:#24292E;">key_store_type = </span><span style="color:#032F62;">&quot;Test&quot;</span></span>
<span class="line"><span style="color:#24292E;">store_prefix = </span><span style="color:#032F62;">&quot;ibc&quot;</span></span>
<span class="line"><span style="color:#24292E;">default_gas = </span><span style="color:#005CC5;">100000</span></span>
<span class="line"><span style="color:#24292E;">max_gas = </span><span style="color:#005CC5;">400000</span></span>
<span class="line"><span style="color:#24292E;">gas_multiplier = </span><span style="color:#005CC5;">1.5</span></span>
<span class="line"><span style="color:#24292E;">max_msg_num = </span><span style="color:#005CC5;">30</span></span>
<span class="line"><span style="color:#24292E;">max_tx_size = </span><span style="color:#005CC5;">180000</span></span>
<span class="line"><span style="color:#24292E;">max_grpc_decoding_size = </span><span style="color:#005CC5;">33554432</span></span>
<span class="line"><span style="color:#24292E;">clock_drift = </span><span style="color:#032F62;">&quot;5s&quot;</span></span>
<span class="line"><span style="color:#24292E;">max_block_time = </span><span style="color:#032F62;">&quot;30s&quot;</span></span>
<span class="line"><span style="color:#24292E;">ccv_consumer_chain = </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">memo_prefix = </span><span style="color:#032F62;">&quot;&quot;</span></span>
<span class="line"><span style="color:#24292E;">sequential_batch_tx = </span><span style="color:#005CC5;">false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">chains</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">event_source</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">mode = </span><span style="color:#032F62;">&quot;push&quot;</span></span>
<span class="line"><span style="color:#24292E;">url = </span><span style="color:#032F62;">&quot;ws://rpc-mocha.pops.one:26657/websocket&quot;</span></span>
<span class="line"><span style="color:#24292E;">batch_delay = </span><span style="color:#032F62;">&quot;500ms&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">chains</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">trust_threshold</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">numerator = </span><span style="color:#032F62;">&quot;1&quot;</span></span>
<span class="line"><span style="color:#24292E;">denominator = </span><span style="color:#032F62;">&quot;3&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">chains</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">gas_price</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">price = </span><span style="color:#005CC5;">0.1</span></span>
<span class="line"><span style="color:#24292E;">denom = </span><span style="color:#032F62;">&quot;utia&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">chains</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">packet_filter</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">policy = </span><span style="color:#032F62;">&quot;allow&quot;</span></span>
<span class="line"><span style="color:#24292E;">list = [[</span><span style="color:#032F62;">&quot;transfer&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;channel-0&quot;</span><span style="color:#24292E;">]]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">chains</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">packet_filter</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">min_fees</span><span style="color:#24292E;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">chains</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">address_type</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">derivation = </span><span style="color:#032F62;">&quot;cosmos&quot;</span></span></code></pre></div><h3 id="add-relayer-wallets" tabindex="-1">Add relayer wallets <a class="header-anchor" href="#add-relayer-wallets" aria-label="Permalink to &quot;Add relayer wallets&quot;">​</a></h3><p>Now that we have successfully configured our relaying chains, we need to import the wallets that will be used for relaying. Please note that both wallets need to be funded with the native tokens of each chain.</p><p>You can get testnet tokens from faucets for bot testnets via Discord:</p><ul><li>Celestia: <a href="https://discord.gg/celestiacommunity" target="_blank" rel="noreferrer">https://discord.gg/celestiacommunity</a></li><li>Cosmos Hub: <a href="https://discord.gg/cosmosnetwork" target="_blank" rel="noreferrer">https://discord.gg/cosmosnetwork</a></li></ul><p>Add your seed phrase to a file and upload it to the server. Do not use wallets for anything else but relaying to avoid running into account sequence errors.</p><p>Follow the steps at <a href="https://hermes.informal.systems/documentation/commands/keys/index.html#adding-keys-to-hermes" target="_blank" rel="noreferrer">adding-keys-to-hermes</a> to add keys for each chain</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">hermes</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">keys</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--chain</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mocha-4</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--mnemonic-file</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">seed-fil</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">hermes</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">keys</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--chain</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">theta-testnet-001</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--mnemonic-file</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">seed-fil</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">hermes</span><span style="color:#24292E;"> </span><span style="color:#032F62;">keys</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--chain</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mocha-4</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--mnemonic-file</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">seed-fil</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;">hermes</span><span style="color:#24292E;"> </span><span style="color:#032F62;">keys</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--chain</span><span style="color:#24292E;"> </span><span style="color:#032F62;">theta-testnet-001</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--mnemonic-file</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">seed-fil</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><h3 id="verify-configuration-files" tabindex="-1">Verify configuration files <a class="header-anchor" href="#verify-configuration-files" aria-label="Permalink to &quot;Verify configuration files&quot;">​</a></h3><p>After editing <code>config.toml</code> and adding wallet keys, it’s time to test the configurations and ensure the system is healthy. Run the following:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">hermes</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">health-check</span></span>
<span class="line"><span style="color:#B392F0;">hermes</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">config</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">validate</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">hermes</span><span style="color:#24292E;"> </span><span style="color:#032F62;">health-check</span></span>
<span class="line"><span style="color:#6F42C1;">hermes</span><span style="color:#24292E;"> </span><span style="color:#032F62;">config</span><span style="color:#24292E;"> </span><span style="color:#032F62;">validate</span></span></code></pre></div><p>If everything was set up correctly, you should see output like:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">SUCCESS</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">performed</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">health</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">check</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">all</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">chains</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">in</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">config</span></span>
<span class="line"><span style="color:#B392F0;">SUCCESS</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;configuration is valid&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">SUCCESS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">performed</span><span style="color:#24292E;"> </span><span style="color:#032F62;">health</span><span style="color:#24292E;"> </span><span style="color:#032F62;">check</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">all</span><span style="color:#24292E;"> </span><span style="color:#032F62;">chains</span><span style="color:#24292E;"> </span><span style="color:#032F62;">in</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">config</span></span>
<span class="line"><span style="color:#6F42C1;">SUCCESS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;configuration is valid&quot;</span></span></code></pre></div><h2 id="create-a-connection-between-2-chains" tabindex="-1">Create a connection between 2 chains <a class="header-anchor" href="#create-a-connection-between-2-chains" aria-label="Permalink to &quot;Create a connection between 2 chains&quot;">​</a></h2><p>If you’re attempting to create new connections, verify that the chains in question don’t already have connections and clients in place and use the existing ones if they do. In that case you can <strong>skip this step</strong> and go to <a href="#configure-channels-in-hermes">Configure channels in Hermes</a> section.</p><p>In this example, we are creating new clients and a new connection between <code>mocha-4</code> and <code>theta-testnet-001</code> networks.</p><h2 id="create-clients" tabindex="-1">Create clients <a class="header-anchor" href="#create-clients" aria-label="Permalink to &quot;Create clients&quot;">​</a></h2><p>To learn if a client already exists, you can use the following command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">hermes</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">query</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">clients</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--host-chain</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mocha-4</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--reference-chain</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">theta-testnet-001</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">hermes</span><span style="color:#24292E;"> </span><span style="color:#032F62;">query</span><span style="color:#24292E;"> </span><span style="color:#032F62;">clients</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--host-chain</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mocha-4</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--reference-chain</span><span style="color:#24292E;"> </span><span style="color:#032F62;">theta-testnet-001</span></span></code></pre></div><p>To create a new client, use the <a href="https://hermes.informal.systems/documentation/commands/path-setup/clients.html#create-client" target="_blank" rel="noreferrer"><code>create-client</code> command</a>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">hermes</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">create</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">client</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--host-chain</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mocha-4</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--reference-chain</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">theta-testnet-001</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">hermes</span><span style="color:#24292E;"> </span><span style="color:#032F62;">create</span><span style="color:#24292E;"> </span><span style="color:#032F62;">client</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--host-chain</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mocha-4</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--reference-chain</span><span style="color:#24292E;"> </span><span style="color:#032F62;">theta-testnet-001</span></span></code></pre></div><p>Create a second client:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">hermes</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">create</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">client</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--host-chain</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">theta-testnet-001</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--reference-chain</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mocha-4</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">hermes</span><span style="color:#24292E;"> </span><span style="color:#032F62;">create</span><span style="color:#24292E;"> </span><span style="color:#032F62;">client</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--host-chain</span><span style="color:#24292E;"> </span><span style="color:#032F62;">theta-testnet-001</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--reference-chain</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mocha-4</span></span></code></pre></div><h3 id="open-connection-over-new-clients" tabindex="-1">Open connection over new clients <a class="header-anchor" href="#open-connection-over-new-clients" aria-label="Permalink to &quot;Open connection over new clients&quot;">​</a></h3><p>To create a new connection over clients, use the following command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">hermes</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">create</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">connection</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--a-chain</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mocha-4</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--b-chain</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">theta-testnet-001</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">hermes</span><span style="color:#24292E;"> </span><span style="color:#032F62;">create</span><span style="color:#24292E;"> </span><span style="color:#032F62;">connection</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--a-chain</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mocha-4</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--b-chain</span><span style="color:#24292E;"> </span><span style="color:#032F62;">theta-testnet-001</span></span></code></pre></div><p>You should be seeing a similar output to this:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">SUCCESS</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Connection</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">delay_period:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#9ECBFF;">ns,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">a_side:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ConnectionSide</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">chain:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">BaseChainHandle</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">chain_id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ChainId</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;theta-testnet-001&quot;,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">version:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            },</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">runtime_sender:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Sender</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">..</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">},</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">client_id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ClientId</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">&quot;07-tendermint-2382&quot;</span><span style="color:#B392F0;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        )</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">connection_id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Some</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">ConnectionId(</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">&quot;connection-2727&quot;</span><span style="color:#B392F0;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            )</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        ),</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">b_side:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ConnectionSide</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">chain:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">BaseChainHandle</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">chain_id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ChainId</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;mocha-4&quot;,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">version:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            },</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">runtime_sender:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Sender</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">..</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">},</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">client_id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ClientId</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">&quot;07-tendermint-0&quot;</span><span style="color:#B392F0;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        )</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">connection_id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Some</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">ConnectionId(</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">&quot;connection-0&quot;</span><span style="color:#B392F0;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            )</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        ),</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">SUCCESS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Connection</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">delay_period:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#032F62;">ns,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">a_side:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ConnectionSide</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">chain:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">BaseChainHandle</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">chain_id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ChainId</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;theta-testnet-001&quot;,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">version:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#24292E;">            },</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">runtime_sender:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Sender</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span><span style="color:#24292E;"> </span><span style="color:#032F62;">..</span><span style="color:#24292E;"> </span><span style="color:#032F62;">},</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">client_id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ClientId</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">&quot;07-tendermint-2382&quot;</span><span style="color:#6F42C1;">,</span></span>
<span class="line"><span style="color:#24292E;">        )</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">connection_id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Some</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">ConnectionId(</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">&quot;connection-2727&quot;</span><span style="color:#6F42C1;">,</span></span>
<span class="line"><span style="color:#24292E;">            )</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#24292E;">        ),</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">b_side:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ConnectionSide</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">chain:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">BaseChainHandle</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">chain_id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ChainId</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;mocha-4&quot;,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">version:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#24292E;">            },</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">runtime_sender:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Sender</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span><span style="color:#24292E;"> </span><span style="color:#032F62;">..</span><span style="color:#24292E;"> </span><span style="color:#032F62;">},</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">client_id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ClientId</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">&quot;07-tendermint-0&quot;</span><span style="color:#6F42C1;">,</span></span>
<span class="line"><span style="color:#24292E;">        )</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">connection_id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Some</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">ConnectionId(</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">&quot;connection-0&quot;</span><span style="color:#6F42C1;">,</span></span>
<span class="line"><span style="color:#24292E;">            )</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#24292E;">        ),</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>Now that the connection has been established over the clients, we need to create a new channel, by leveraging an existing connection:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">hermes</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">create</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">channel</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--a-chain</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">theta-testnet-001</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--a-connection</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">connection-2727</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--a-port</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">transfer</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--b-port</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">transfer</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">hermes</span><span style="color:#24292E;"> </span><span style="color:#032F62;">create</span><span style="color:#24292E;"> </span><span style="color:#032F62;">channel</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--a-chain</span><span style="color:#24292E;"> </span><span style="color:#032F62;">theta-testnet-001</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--a-connection</span><span style="color:#24292E;"> </span><span style="color:#032F62;">connection-2727</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--a-port</span><span style="color:#24292E;"> </span><span style="color:#032F62;">transfer</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--b-port</span><span style="color:#24292E;"> </span><span style="color:#032F62;">transfer</span></span></code></pre></div><p>You should be seeing a similar output to this:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">SUCCESS</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Channel</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">ordering:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Unordered,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">a_side:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ChannelSide</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">chain:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">BaseChainHandle</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">chain_id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ChainId</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;theta-testnet-001&quot;,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">version:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            },</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">runtime_sender:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Sender</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">..</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">},</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">client_id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ClientId</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">&quot;07-tendermint-2382&quot;</span><span style="color:#B392F0;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        )</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">connection_id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ConnectionId</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">&quot;connection-2727&quot;</span><span style="color:#B392F0;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        )</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">port_id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">PortId</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">&quot;transfer&quot;</span><span style="color:#B392F0;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        )</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">channel_id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Some</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">ChannelId(</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">&quot;channel-3152&quot;</span><span style="color:#B392F0;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            )</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        ),</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">version:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">None,</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">b_side:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ChannelSide</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">chain:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">BaseChainHandle</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">chain_id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ChainId</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;mocha-4&quot;,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">version:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            },</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">runtime_sender:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Sender</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">..</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">},</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">client_id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ClientId</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">&quot;07-tendermint-0&quot;</span><span style="color:#B392F0;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        )</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">connection_id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ConnectionId</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">&quot;connection-0&quot;</span><span style="color:#B392F0;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        )</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">port_id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">PortId</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">&quot;transfer&quot;</span><span style="color:#B392F0;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        )</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">channel_id:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Some</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">ChannelId(</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">&quot;channel-0&quot;</span><span style="color:#B392F0;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            )</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        ),</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">version:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">None,</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">connection_delay:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#9ECBFF;">ns,</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">SUCCESS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Channel</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">ordering:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Unordered,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">a_side:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ChannelSide</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">chain:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">BaseChainHandle</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">chain_id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ChainId</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;theta-testnet-001&quot;,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">version:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#24292E;">            },</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">runtime_sender:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Sender</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span><span style="color:#24292E;"> </span><span style="color:#032F62;">..</span><span style="color:#24292E;"> </span><span style="color:#032F62;">},</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">client_id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ClientId</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">&quot;07-tendermint-2382&quot;</span><span style="color:#6F42C1;">,</span></span>
<span class="line"><span style="color:#24292E;">        )</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">connection_id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ConnectionId</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">&quot;connection-2727&quot;</span><span style="color:#6F42C1;">,</span></span>
<span class="line"><span style="color:#24292E;">        )</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">port_id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">PortId</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">&quot;transfer&quot;</span><span style="color:#6F42C1;">,</span></span>
<span class="line"><span style="color:#24292E;">        )</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">channel_id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Some</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">ChannelId(</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">&quot;channel-3152&quot;</span><span style="color:#6F42C1;">,</span></span>
<span class="line"><span style="color:#24292E;">            )</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#24292E;">        ),</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">version:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">None,</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">b_side:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ChannelSide</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">chain:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">BaseChainHandle</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">chain_id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ChainId</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;mocha-4&quot;,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">version:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#24292E;">            },</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">runtime_sender:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Sender</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span><span style="color:#24292E;"> </span><span style="color:#032F62;">..</span><span style="color:#24292E;"> </span><span style="color:#032F62;">},</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">client_id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ClientId</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">&quot;07-tendermint-0&quot;</span><span style="color:#6F42C1;">,</span></span>
<span class="line"><span style="color:#24292E;">        )</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">connection_id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ConnectionId</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">&quot;connection-0&quot;</span><span style="color:#6F42C1;">,</span></span>
<span class="line"><span style="color:#24292E;">        )</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">port_id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">PortId</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">&quot;transfer&quot;</span><span style="color:#6F42C1;">,</span></span>
<span class="line"><span style="color:#24292E;">        )</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">channel_id:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Some</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">ChannelId(</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">&quot;channel-0&quot;</span><span style="color:#6F42C1;">,</span></span>
<span class="line"><span style="color:#24292E;">            )</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#24292E;">        ),</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">version:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">None,</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">connection_delay:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#032F62;">ns,</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Congratulations!</p><p>You have successfully created a new IBC connection between two networks.</p></div><h3 id="configure-channels-in-hermes" tabindex="-1">Configure channels in Hermes <a class="header-anchor" href="#configure-channels-in-hermes" aria-label="Permalink to &quot;Configure channels in Hermes&quot;">​</a></h3><p>Now that we have created new connections and opened channels, we need to edit <code>config.toml</code> again and add the newly created channels, or use the already existing ones.</p><p>For <code>mocha-4</code> add:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[chains.packet_filter]</span></span>
<span class="line"><span style="color:#B392F0;">policy</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;allow&#39;</span></span>
<span class="line"><span style="color:#B392F0;">list</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> [</span></span>
<span class="line"><span style="color:#E1E4E8;">  [</span><span style="color:#9ECBFF;">&#39;transfer&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;channel-0&#39;</span><span style="color:#E1E4E8;">]</span><span style="color:#B392F0;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># theta-testnet-001</span></span>
<span class="line"><span style="color:#E1E4E8;">]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[chains.packet_filter]</span></span>
<span class="line"><span style="color:#6F42C1;">policy</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;allow&#39;</span></span>
<span class="line"><span style="color:#6F42C1;">list</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> [</span></span>
<span class="line"><span style="color:#24292E;">  [</span><span style="color:#032F62;">&#39;transfer&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;channel-0&#39;</span><span style="color:#24292E;">]</span><span style="color:#6F42C1;">,</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># theta-testnet-001</span></span>
<span class="line"><span style="color:#24292E;">]</span></span></code></pre></div><p>For <code>theta-testnet-001</code> add:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[chains.packet_filter]</span></span>
<span class="line"><span style="color:#B392F0;">policy</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;allow&#39;</span></span>
<span class="line"><span style="color:#B392F0;">list</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> [</span></span>
<span class="line"><span style="color:#E1E4E8;">  [</span><span style="color:#9ECBFF;">&#39;transfer&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;channel-3108&#39;</span><span style="color:#E1E4E8;">]</span><span style="color:#B392F0;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># mocha-4</span></span>
<span class="line"><span style="color:#E1E4E8;">]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[chains.packet_filter]</span></span>
<span class="line"><span style="color:#6F42C1;">policy</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;allow&#39;</span></span>
<span class="line"><span style="color:#6F42C1;">list</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> [</span></span>
<span class="line"><span style="color:#24292E;">  [</span><span style="color:#032F62;">&#39;transfer&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;channel-3108&#39;</span><span style="color:#24292E;">]</span><span style="color:#6F42C1;">,</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># mocha-4</span></span>
<span class="line"><span style="color:#24292E;">]</span></span></code></pre></div><h2 id="start-the-relayer" tabindex="-1">Start the relayer <a class="header-anchor" href="#start-the-relayer" aria-label="Permalink to &quot;Start the relayer&quot;">​</a></h2><p>Start the relayer via <a href="https://hermes.informal.systems/documentation/commands/relaying/index.html#the-start-command" target="_blank" rel="noreferrer"><code>hermes start</code></a></p><h2 id="transfer" tabindex="-1">Transfer <a class="header-anchor" href="#transfer" aria-label="Permalink to &quot;Transfer&quot;">​</a></h2><p>The Celestia state machine is built with the IBC transfer module, allowing for the native Celestia token to be transferred to any other IBC enabled chain. Transfer can be initialized through the <code>celestia-appd</code> CLI. Information can be found via the help label as follows:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ibc-transfer</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">transfer</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--help</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ibc-transfer</span><span style="color:#24292E;"> </span><span style="color:#032F62;">transfer</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--help</span></span></code></pre></div><h3 id="token-filter" tabindex="-1">Token filter <a class="header-anchor" href="#token-filter" aria-label="Permalink to &quot;Token filter&quot;">​</a></h3><p>The transfer module uses a token filter middleware which serves to prevent non-native Celestia tokens from being on Celestia. If a user is to try to send a token from another chain across, it will be simply rejected and the token returned back to the user.</p>`,61),e=[o];function t(c,r,E,y,i,F){return n(),a("div",null,e)}const u=s(p,[["render",t]]);export{h as __pageData,u as default};
