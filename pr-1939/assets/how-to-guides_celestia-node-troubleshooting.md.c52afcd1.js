import{c as n}from"./chunks/constants.b02263eb.js";import{o as p,c as t,k as s,a,t as o,l,Q as e}from"./chunks/framework.0f202d15.js";const r=e(`<h1 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">​</a></h1><h2 id="network-selection" tabindex="-1">Network selection <a class="header-anchor" href="#network-selection" aria-label="Permalink to &quot;Network selection&quot;">​</a></h2><p>Note: If you do not select a network, the default network will be Mainnet Beta.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">node-typ</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">init</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--p2p.network</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">networ</span><span style="color:#E1E4E8;">k</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">node-typ</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--p2p.network</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">networ</span><span style="color:#E1E4E8;">k</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--core.ip</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">UR</span><span style="color:#E1E4E8;">I</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--core.port</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">por</span><span style="color:#E1E4E8;">t</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">node-typ</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">init</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--p2p.network</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">networ</span><span style="color:#24292E;">k</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">node-typ</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--p2p.network</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">networ</span><span style="color:#24292E;">k</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--core.ip</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">UR</span><span style="color:#24292E;">I</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--core.port</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">por</span><span style="color:#24292E;">t</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Refer to <a href="#ports">the ports section of this page</a> for information on which ports are required to be open on your machine.</p></div><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>It is advised before switching networks to reinitialize your node via <code>init</code> command. This is due to an old config being present. Re-initialisation will reset the config.</p></div><h3 id="chain-id" tabindex="-1">Chain ID <a class="header-anchor" href="#chain-id" aria-label="Permalink to &quot;Chain ID&quot;">​</a></h3>`,7),c=s("em",null,"i.e.",-1),i=s("code",null,"--p2p.network string",-1),y=s("thead",null,[s("tr",null,[s("th",null,"Network"),s("th",null,"Chain ID"),s("th",null,[s("code",null,"--p2p.network string")])])],-1),E=s("td",null,"Mainnet Beta",-1),d=s("td",null,[a("not required ("),s("code",null,"--p2p.network celestia"),a(")")],-1),h=s("td",null,"Mocha",-1),F=s("td",null,[s("code",null,"--p2p.network mocha")],-1),u=s("td",null,"Arabica",-1),g=s("td",null,[s("code",null,"--p2p.network arabica")],-1),C=e(`<h2 id="ports" tabindex="-1">Ports <a class="header-anchor" href="#ports" aria-label="Permalink to &quot;Ports&quot;">​</a></h2><p>When interacting with a Celestia node, you may need to open ports on your machine to allow communication between nodes, such as bridge nodes. It is essential that specific ports are accessible. Make sure that your firewall allows connections to the correct ports.</p><p>If you run a node on a cloud server, make sure that the ports are open on the server&#39;s firewall. If you run a node at home, make sure that your router allows connections to the correct ports.</p><p>For example, validator ports 9090 and 26657 need to be accessible by the bridge, and port 2121 is required for P2P connections for all node types.</p><p>The following ports are used by Celestia nodes:</p><table><thead><tr><th>Port</th><th>Protocol</th><th>Address</th><th>Description</th><th>Enabled by default on node</th><th>Flag</th></tr></thead><tbody><tr><td>2121</td><td>TCP/UDP</td><td>localhost</td><td>P2P</td><td>true</td><td>N/A</td></tr><tr><td>26658</td><td>HTTP</td><td>localhost</td><td>RPC</td><td>true</td><td><code>--rpc.port string</code></td></tr><tr><td>26659</td><td>HTTP</td><td>localhost</td><td>REST Gateway</td><td>false</td><td><code>--gateway.port string</code></td></tr></tbody></table><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>The gateway endpoints have been deprecated and will be removed in the future. If you would like to use them anyway, you can <a href="https://github.com/celestiaorg/celestia-node/pull/2360" target="_blank" rel="noreferrer">find more details on GitHub</a>.</p></div><h2 id="changing-the-location-of-your-node-store" tabindex="-1">Changing the location of your node store <a class="header-anchor" href="#changing-the-location-of-your-node-store" aria-label="Permalink to &quot;Changing the location of your node store&quot;">​</a></h2><h3 id="background" tabindex="-1">Background <a class="header-anchor" href="#background" aria-label="Permalink to &quot;Background&quot;">​</a></h3><p>An <a href="https://github.com/celestiaorg/celestia-node/pull/3246" target="_blank" rel="noreferrer">enhancement has been made in v0.14.0+</a> to automate the detection of the running node, eliminating the need to manually specify the <code>--node.store</code> flag for each RPC request.</p><p><strong>Assumptions:</strong></p><ul><li>The presence of a lock signifies a running node.</li><li>Networks are ordered as Mainnet Beta, Mocha, Arabica, private, custom.</li><li>Node types are ordered as bridge, full, and light.</li><li>Each network has only one running node type.</li><li>Multiple nodes of the same network and type are prohibited (resulting in an <code>Error: node: store is in use</code>).</li></ul><p><strong>Key Points:</strong></p><ul><li>Authentication token and other flags maintain their previous behavior and take precedence.</li><li>Address and port details are fetched from the configuration.</li><li><code>skipAuth</code> allows bypassing authentication for trusted setups and follows Unix daemon conventions.</li><li>Non-default node store and cel-key configurations still require specific flags in the configuration settings.</li></ul><h3 id="demonstration" tabindex="-1">Demonstration <a class="header-anchor" href="#demonstration" aria-label="Permalink to &quot;Demonstration&quot;">​</a></h3><p>In this section, we&#39;ll guide you through starting your node using a node store in a different location than you originally started with.</p><p>First, stop your node safely using <code>control + C</code>.</p><p>Then, init your node again with a new node store:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">node-typ</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">init</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--node.store</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/home/user/celestia-</span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">node-typ</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#9ECBFF;">-location/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--p2p.network</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mocha</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">node-typ</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">init</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--node.store</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/home/user/celestia-</span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">node-typ</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span><span style="color:#032F62;">-location/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--p2p.network</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mocha</span></span></code></pre></div><p>Next, start your node:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">full</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--core.ip</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">rpc-mocha.pops.one</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--p2p.network</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mocha</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--node.store</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/home/user/celestia-</span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">node-typ</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#9ECBFF;">-location/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--core.port</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">por</span><span style="color:#E1E4E8;">t</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#032F62;">full</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--core.ip</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rpc-mocha.pops.one</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--p2p.network</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mocha</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--node.store</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/home/user/celestia-</span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">node-typ</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span><span style="color:#032F62;">-location/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--core.port</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">por</span><span style="color:#24292E;">t</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><p>If you choose to change the location of your node store, you will need to execute each command on your node with the following flag:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">--node.store</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/home/user/celestia-</span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">node-typ</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#9ECBFF;">-location/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">--node.store</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/home/user/celestia-</span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">node-typ</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span><span style="color:#032F62;">-location/</span></span></code></pre></div><p>When using <code>cel-key</code>, the process is different. To show the keys you should add <code>--keyring-dir</code> like this example:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">./cel-key</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">list</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--p2p.network</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mocha</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--node.type</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">full</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--keyring-dir</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/home/user/celestia-</span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">node-typ</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#9ECBFF;">-location/keys/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">./cel-key</span><span style="color:#24292E;"> </span><span style="color:#032F62;">list</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--p2p.network</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mocha</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--node.type</span><span style="color:#24292E;"> </span><span style="color:#032F62;">full</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--keyring-dir</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/home/user/celestia-</span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">node-typ</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span><span style="color:#032F62;">-location/keys/</span></span></code></pre></div><h3 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-label="Permalink to &quot;Examples&quot;">​</a></h3><h4 id="mainnet-beta-full-and-mocha-light" tabindex="-1">Mainnet Beta full and Mocha light <a class="header-anchor" href="#mainnet-beta-full-and-mocha-light" aria-label="Permalink to &quot;Mainnet Beta full and Mocha light&quot;">​</a></h4><p>This example uses a Mainnet Beta full node and a Mocha light node. When making the request:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">❯</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">blob</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">get</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1318129</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0x42690c204d39600fddd3</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#9ECBFF;">MFhYKQUi2BU+U1jxPzG7QY2BVV1lb3kiU+zAK7nUiY=</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">&quot;result&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;RPC client error: sendRequest failed: http status 401 Unauthorized unmarshaling response: EOF&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">❯</span><span style="color:#24292E;"> </span><span style="color:#032F62;">celestia</span><span style="color:#24292E;"> </span><span style="color:#032F62;">blob</span><span style="color:#24292E;"> </span><span style="color:#032F62;">get</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1318129</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0x42690c204d39600fddd3</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#032F62;">MFhYKQUi2BU+U1jxPzG7QY2BVV1lb3kiU+zAK7nUiY=</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">&quot;result&quot;</span><span style="color:#005CC5;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;RPC client error: sendRequest failed: http status 401 Unauthorized unmarshaling response: EOF&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>The request will go to the Mainnet Beta node, and a 401 will show in this node&#39;s logs. Note that a 401 is expected because this blob was posted to Mocha and neither the namespace nor the blob exist on Mainnet Beta.</p><h4 id="mocha-full-and-arabica-light" tabindex="-1">Mocha full and Arabica light <a class="header-anchor" href="#mocha-full-and-arabica-light" aria-label="Permalink to &quot;Mocha full and Arabica light&quot;">​</a></h4><p>This example uses a Mocha full node and an Arabica light node. When making the request:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">❯</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">blob</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">get</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1318129</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0x42690c204d39600fddd3</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#9ECBFF;">MFhYKQUi2BU+U1jxPzG7QY2BVV1lb3kiU+zAK7nUiY=</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">&quot;result&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">&quot;namespace&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;AAAAAAAAAAAAAAAAAAAAAAAAAEJpDCBNOWAP3dM=&quot;,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">&quot;data&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;0x676d&quot;,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">&quot;share_version&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">&quot;commitment&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;0MFhYKQUi2BU+U1jxPzG7QY2BVV1lb3kiU+zAK7nUiY=&quot;,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">&quot;index&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">23</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">❯</span><span style="color:#24292E;"> </span><span style="color:#032F62;">celestia</span><span style="color:#24292E;"> </span><span style="color:#032F62;">blob</span><span style="color:#24292E;"> </span><span style="color:#032F62;">get</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1318129</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0x42690c204d39600fddd3</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#032F62;">MFhYKQUi2BU+U1jxPzG7QY2BVV1lb3kiU+zAK7nUiY=</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">&quot;result&quot;</span><span style="color:#005CC5;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">&quot;namespace&quot;</span><span style="color:#005CC5;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;AAAAAAAAAAAAAAAAAAAAAAAAAEJpDCBNOWAP3dM=&quot;,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">&quot;data&quot;</span><span style="color:#005CC5;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;0x676d&quot;,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">&quot;share_version&quot;</span><span style="color:#005CC5;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">&quot;commitment&quot;</span><span style="color:#005CC5;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;0MFhYKQUi2BU+U1jxPzG7QY2BVV1lb3kiU+zAK7nUiY=&quot;,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">&quot;index&quot;</span><span style="color:#005CC5;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">23</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>The request will go to the Mocha full node, and result shown as expected.</p><h4 id="using-a-custom-rpc-config-address" tabindex="-1">Using a custom rpc.config address <a class="header-anchor" href="#using-a-custom-rpc-config-address" aria-label="Permalink to &quot;Using a custom rpc.config address&quot;">​</a></h4><p>When using a custom RPC config address <code>0.0.0.1</code> and port <code>25231</code>, the CLI accurately routes to the custom address and port, where no node is running. It fails as expected:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">❯</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">blob</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">get</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1318129</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0x42690c204d39600fddd3</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#9ECBFF;">MFhYKQUi2BU+U1jxPzG7QY2BVV1lb3kiU+zAK7nUiY=</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">&quot;result&quot;</span><span style="color:#79B8FF;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;RPC client error: sendRequest failed: Post </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">http://0.0.0.1:25231</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">: dial tcp 0.0.0.1:25231: connect: no route to host&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">❯</span><span style="color:#24292E;"> </span><span style="color:#032F62;">celestia</span><span style="color:#24292E;"> </span><span style="color:#032F62;">blob</span><span style="color:#24292E;"> </span><span style="color:#032F62;">get</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1318129</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0x42690c204d39600fddd3</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#032F62;">MFhYKQUi2BU+U1jxPzG7QY2BVV1lb3kiU+zAK7nUiY=</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">&quot;result&quot;</span><span style="color:#005CC5;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;RPC client error: sendRequest failed: Post </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">http://0.0.0.1:25231</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">: dial tcp 0.0.0.1:25231: connect: no route to host&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="resetting-your-config" tabindex="-1">Resetting your config <a class="header-anchor" href="#resetting-your-config" aria-label="Permalink to &quot;Resetting your config&quot;">​</a></h2><p>If you encounter an error, it is likely that an old config file is present:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">Error:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">nodebuilder/share:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">interval</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">must</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">be</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">positive</span><span style="color:#E1E4E8;">; </span><span style="color:#B392F0;">nodebuilder/core:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">invalid</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">IP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">addr</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">given:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># or</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">Error:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">nodebuilder/share:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">interval</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">must</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">be</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">positive</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">Error:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">nodebuilder/share:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">interval</span><span style="color:#24292E;"> </span><span style="color:#032F62;">must</span><span style="color:#24292E;"> </span><span style="color:#032F62;">be</span><span style="color:#24292E;"> </span><span style="color:#032F62;">positive</span><span style="color:#24292E;">; </span><span style="color:#6F42C1;">nodebuilder/core:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">invalid</span><span style="color:#24292E;"> </span><span style="color:#032F62;">IP</span><span style="color:#24292E;"> </span><span style="color:#032F62;">addr</span><span style="color:#24292E;"> </span><span style="color:#032F62;">given:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># or</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">Error:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">nodebuilder/share:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">interval</span><span style="color:#24292E;"> </span><span style="color:#032F62;">must</span><span style="color:#24292E;"> </span><span style="color:#032F62;">be</span><span style="color:#24292E;"> </span><span style="color:#032F62;">positive</span></span></code></pre></div><p>You can re-initialize your node&#39;s config with the following commands:</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Save your config so custom values are not lost.</p></div><p>Run the following command to update your config:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">node-typ</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">config-update</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--p2p.network</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">networ</span><span style="color:#E1E4E8;">k</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">node-typ</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">config-update</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--p2p.network</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">networ</span><span style="color:#24292E;">k</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><p>This will pull in any new values from new configuration and merge them into the existing configuration.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>After using the <code>config-update</code> command, it is encouraged to double-check that your custom values are preserved.</p></div><p>Then, to start your node again:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">node-typ</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--p2p.network</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">networ</span><span style="color:#E1E4E8;">k</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">node-typ</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--p2p.network</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">networ</span><span style="color:#24292E;">k</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><h2 id="clearing-the-data-store" tabindex="-1">Clearing the data store <a class="header-anchor" href="#clearing-the-data-store" aria-label="Permalink to &quot;Clearing the data store&quot;">​</a></h2><p>For <strong>bridge, full, and light nodes</strong>, remove the data store with this command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">node-typ</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">unsafe-reset-store</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--p2p.network</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">networ</span><span style="color:#E1E4E8;">k</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">node-typ</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">unsafe-reset-store</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--p2p.network</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">networ</span><span style="color:#24292E;">k</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">light</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">unsafe-reset-store</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--p2p.network</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mocha</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#032F62;">light</span><span style="color:#24292E;"> </span><span style="color:#032F62;">unsafe-reset-store</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--p2p.network</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mocha</span></span></code></pre></div><h2 id="fatal-headers-given-to-the-heightsub-are-in-the-wrong-order" tabindex="-1">FATAL headers given to the heightSub are in the wrong order <a class="header-anchor" href="#fatal-headers-given-to-the-heightsub-are-in-the-wrong-order" aria-label="Permalink to &quot;FATAL headers given to the heightSub are in the wrong order&quot;">​</a></h2><p>If you observe a FATAL log line like:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">FATAL</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">header/store</span><span style="color:#E1E4E8;">   </span><span style="color:#9ECBFF;">store/heightsub.go:87</span><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">PLEASE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">FILE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">A</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">BUG</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">REPORT:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">headers</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">given</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">heightSub</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">are</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">in</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">wrong</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">order&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">FATAL</span><span style="color:#24292E;">   </span><span style="color:#032F62;">header/store</span><span style="color:#24292E;">   </span><span style="color:#032F62;">store/heightsub.go:87</span><span style="color:#24292E;">    </span><span style="color:#032F62;">PLEASE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">FILE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">A</span><span style="color:#24292E;"> </span><span style="color:#032F62;">BUG</span><span style="color:#24292E;"> </span><span style="color:#032F62;">REPORT:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">headers</span><span style="color:#24292E;"> </span><span style="color:#032F62;">given</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">heightSub</span><span style="color:#24292E;"> </span><span style="color:#032F62;">are</span><span style="color:#24292E;"> </span><span style="color:#032F62;">in</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">wrong</span><span style="color:#24292E;"> </span><span style="color:#032F62;">order&quot;</span></span></code></pre></div><p>then it is possible the celestia-node <code>data/</code> directory contains headers from a previous instance of the network that you are currently trying to run against. One resolution strategy is to delete the existing celestia-node config for the target network and re-initialize it:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># rm -rf ~/.celestia-&lt;node-type&gt;-&lt;network&gt;</span></span>
<span class="line"><span style="color:#B392F0;">rm</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-rf</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">~/.celestia-bridge-private</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># celestia &lt;node-type&gt; init --p2p.network &lt;network&gt;</span></span>
<span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">bridge</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">init</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--p2p.network</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">private</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># rm -rf ~/.celestia-&lt;node-type&gt;-&lt;network&gt;</span></span>
<span class="line"><span style="color:#6F42C1;">rm</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-rf</span><span style="color:#24292E;"> </span><span style="color:#032F62;">~/.celestia-bridge-private</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># celestia &lt;node-type&gt; init --p2p.network &lt;network&gt;</span></span>
<span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#032F62;">bridge</span><span style="color:#24292E;"> </span><span style="color:#032F62;">init</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--p2p.network</span><span style="color:#24292E;"> </span><span style="color:#032F62;">private</span></span></code></pre></div><h2 id="error-too-many-open-files" tabindex="-1">Error: &quot;too many open files&quot; <a class="header-anchor" href="#error-too-many-open-files" aria-label="Permalink to &quot;Error: &quot;too many open files&quot;&quot;">​</a></h2><p>When running a Celestia bridge node, you may encounter an error in the logs similar to this:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">Error</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">while</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">creating</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">log</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">file</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">in</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">valueLog.open</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">error:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">while</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">opening</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">file:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/opt/celestia/.celestia-bridge/data/003442.vlog</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">error:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">open</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/opt/celestia/.celestia-bridge/data/003442.vlog:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">too</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">many</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">open</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">files</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">Error</span><span style="color:#24292E;"> </span><span style="color:#032F62;">while</span><span style="color:#24292E;"> </span><span style="color:#032F62;">creating</span><span style="color:#24292E;"> </span><span style="color:#032F62;">log</span><span style="color:#24292E;"> </span><span style="color:#032F62;">file</span><span style="color:#24292E;"> </span><span style="color:#032F62;">in</span><span style="color:#24292E;"> </span><span style="color:#032F62;">valueLog.open</span><span style="color:#24292E;"> </span><span style="color:#032F62;">error:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">while</span><span style="color:#24292E;"> </span><span style="color:#032F62;">opening</span><span style="color:#24292E;"> </span><span style="color:#032F62;">file:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/opt/celestia/.celestia-bridge/data/003442.vlog</span><span style="color:#24292E;"> </span><span style="color:#032F62;">error:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">open</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/opt/celestia/.celestia-bridge/data/003442.vlog:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">too</span><span style="color:#24292E;"> </span><span style="color:#032F62;">many</span><span style="color:#24292E;"> </span><span style="color:#032F62;">open</span><span style="color:#24292E;"> </span><span style="color:#032F62;">files</span></span></code></pre></div><p>This error indicates that the Celestia application is trying to open more files than the operating system&#39;s limit allows. To fix this, you will need to edit the Celestia bridge service file to increase the number of file descriptors that the service can open.</p><ol><li>Open the service file for editing:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">nano</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/systemd/system/celestia-bridge.service</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">nano</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/systemd/system/celestia-bridge.service</span></span></code></pre></div><ol start="2"><li>Modify the <code>LimitNOFILE</code> parameter:</li></ol><p>In the service file, find the <code>LimitNOFILE</code> parameter under the <code>[Service]</code> section and set its value to <code>1400000</code>. It should look like this:</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">[Service]</span></span>
<span class="line"><span style="color:#E1E4E8;">...</span></span>
<span class="line"><span style="color:#F97583;">LimitNOFILE</span><span style="color:#E1E4E8;">=1400000</span></span>
<span class="line"><span style="color:#E1E4E8;">...</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">[Service]</span></span>
<span class="line"><span style="color:#24292E;">...</span></span>
<span class="line"><span style="color:#D73A49;">LimitNOFILE</span><span style="color:#24292E;">=1400000</span></span>
<span class="line"><span style="color:#24292E;">...</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>Be cautious when increasing file descriptor limits. Setting this value too high might affect system performance. Ensure the value is appropriate for your system&#39;s capabilities.</p></div><ol start="3"><li>Reload daemon and restart bridge service:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">daemon-reload</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">daemon-reload</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">restart</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">celestia-bridge</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">restart</span><span style="color:#24292E;"> </span><span style="color:#032F62;">celestia-bridge</span></span></code></pre></div>`,70),A=JSON.parse('{"title":"Troubleshooting","description":"A guide to troubleshooting common issues with Celestia Node.","frontmatter":{"description":"A guide to troubleshooting common issues with Celestia Node.","next":{"text":"Metrics, visualization, and alerts","link":"how-to-guides/celestia-app-metrics"},"head":[["meta",{"property":"og:title","content":"Troubleshooting | Celestia Docs"}],["meta",{"property":"og:description","content":"A guide to troubleshooting common issues with Celestia Node."}]]},"headers":[],"relativePath":"how-to-guides/celestia-node-troubleshooting.md","filePath":"how-to-guides/celestia-node-troubleshooting.md","lastUpdated":1742569784000}'),b={name:"how-to-guides/celestia-node-troubleshooting.md"},w=Object.assign(b,{setup(B){return(m,k)=>(p(),t("div",null,[r,s("p",null,[a("When interacting with celestia-node, it is important to take into account the different chain IDs for different networks. For Mainnet Beta, there is no need to declare a chain ID, as the default is "+o(l(n).mainnetChainId)+", ",1),c,a(" no "),i,a(" flag is required for Mainnet Beta.")]),s("table",null,[y,s("tbody",null,[s("tr",null,[E,s("td",null,o(l(n).mainnetChainId),1),d]),s("tr",null,[h,s("td",null,o(l(n).mochaChainId),1),F]),s("tr",null,[u,s("td",null,o(l(n).arabicaChainId),1),g])])]),C]))}});export{A as __pageData,w as default};
